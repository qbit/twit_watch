<!doctype html>
<html>
  <head>
    <title>Twitter Watcher</title>
        
    <script src="/socket.io/socket.io.js"></script>
  </head>
  <body>
    
    <script>

		function message(obj){
			if ( obj ) {
				var p = document.getElementById( obj.data.string );

				var el = document.createElement('p');
				var nameel = document.createElement( 'span' );
				var text = document.createTextNode( obj.data.msg.text );

				nameel.innerHTML = obj.data.msg.user.screen_name

				nameel.setAttribute( 'class', 'name' );

				console.log( text );
				el.appendChild( nameel );
				el.appendChild( text );
					
				p.appendChild(el);
				p.scrollTop = 1000000;
			}
		}

		function esc(msg){
			if ( reverse ) {
				return msg.replace(/</g, '&lt;').replace(/>/g, '&gt;').reverse();
			} else {
				return msg.replace(/</g, '&lt;').replace(/>/g, '&gt;');
			}
		};
      
		var socket = io.connect();
		socket.on('message', message );

    </script>
    
    <div class="twit" id="nodejs"><p>Node.JS</p></div>
    <div class="twit" id="twss"><p>TWSS</p></div>
    <div class="twit" id="openbsd"><p>OpenBSD</p></div>
    <div class="twit" id="devio.us"><p>Devio.US</p></div>
    <style>
		.name { background-color: #ccc; }
      .twit { height: 500px; overflow: auto; width: 24%; border: 1px solid #eee; font: 13px Helvetica, Arial; float: left }
      .twit p { padding: 8px; margin: 0; }
      .twit p:nth-child(odd) { background: #F6F6F6; }
    </style>
    
  </body>
</html>
